
<!--#include virtual="/doctype.html" -->
<html>
  <head>
    
    
<title>DocBook Filters - Read and write docbook xml using OpenOffice.org</title>
<meta HTTP-EQUIV="content-type" CONTENT="text/html; charset=UTF-8">

    
    <link href="/css/ooo.css" rel="stylesheet" type="text/css">
    <!--#include virtual="/scripts/google-analytics.js" --> 
    <!--#include virtual="/scripts/entourage.js" -->
  </head>
  <body>
    <!--#include virtual="/brand.html" -->
    <div id="topbara">
      <!--#include virtual="/topnav.html" -->
      <div id="breadcrumbsa"><a href="/">home</a>&nbsp;&raquo;&nbsp;<a href="/xml/">xml</a>&nbsp;&raquo;&nbsp;<a href="/xml/xmerge/">xmerge</a>&nbsp;&raquo;&nbsp;<a href="/xml/xmerge/docbook/">docbook</a></div>
    </div>
    <div id="clear"></div>
      
      
    <div id="content">
      
      
	<h1>DocBook Filters - Read and write docbook xml using OpenOffice.org</h1>
	<!--<h1>User Guide for DocBook on OpenOffice.org</h1>-->
	<p>
The project goal is to explore the possibility of using OpenOffice.org as a WYSIWYG editor of XML content. The principle is to edit structured documents using styles. These styles are then transformed to XML tags on export.
	</p>
	<p>
Anyone from community is welcome to join the project. The current issues and enhancements filed for DocBook are <a href="http://www.openoffice.org/issues/buglist.cgi?issue_status=NEW&issue_status=STARTED&issue_status=REOPENED&email1=&emailtype1=exact&emailassigned_to1=1&email2=&emailtype2=exact&emailreporter2=1&issueidtype=include&issue_id=&changedin=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&short_desc=docbook&short_desc_type=substring&long_desc=&long_desc_type=substring&issue_file_loc=&issue_file_loc_type=substring&status_whiteboard=&status_whiteboard_type=substring&keywords=&keywords_type=anytokens&field0-0-0=noop&type0-0-0=noop&value0-0-0=&cmdtype=doit&newqueryname=&order=%27Importance%27&Submit+query=Submit+query">these</a>.
	</p>	
	<p>
This page shows how to enable and use the DocBook filters. It also shows the location of the stylesheets so that users can download and use the latest transformations. The filter provided on this page is based on earlier releases of the DocBook filter. New features include:
	<ul>
	<li>Support for nested tags</li>
	<li>Support for unresolved entities</li>
	<li>Increased range of supported DocBook tags (index, xref, id attributes for sect etc.)</li>
	<li>Use of new Tools -&gt; XML Filter Settings dialog in OpenOffice.org</li>
	</ul>
	</p>

	<h2>Enabling the DocBook XSLT's in OpenOffice.org</h2>
	<p>
	For these releases there are three different ways of enabling the DocBook filters.
	</p>

	<h3>1. Download the DocBook XSLT Stylesheets and OpenOffice.org Style Template</h3>
	<p>
	This method ensures that the most recent stylesheets and OpenOffice.org style template are used for import and export. To import, export and modify DocBook documents in OpenOffice.org, it is necessary to download the following:
	<ul><li>The relevant XSLT stylesheets for the XML transformations (<a href="http://xml.openoffice.org/source/browse/xml/xmerge/java/org/openoffice/xmerge/converter/xml/xslt/docbook/">All available here</a>)</li>
	<li>An OpenOffice.org style template that contains custom styles corresponding to DocBook tags (<a href="http://xml.openoffice.org/source/browse/xml/xmerge/java/org/openoffice/xmerge/converter/xml/xslt/docbook/">Available here</a>)</li>
	</ul>
	The most recent stylesheets support the import and export of DocBook documents with article or chapter as the top-level tag. The different stylesheets required for each of these operation are listed below:
	</p>

	<br><br>

	<table width="50%" border="1" cellpadding="3">
	<caption align="top"><b>Stylesheets required for import</b></caption>
	<thead>
	<tr>
	<th>Article</th>
	<th>Chapter</th>
	</tr>
	</thead>
	<tbody>
	<tr>
	<td align="center" valign="middle"><a href="http://xml.openoffice.org/source/browse/xml/xmerge/java/org/openoffice/xmerge/converter/xml/xslt/docbook/">docbooktosoffheadings.xsl</a></td>
	<td align="center" valign="middle"><a href="http://xml.openoffice.org/source/browse/xml/xmerge/java/org/openoffice/xmerge/converter/xml/xslt/docbook/">docbooktosoffheadings.xsl</a></td>
	</tr>
	</tbody>
	</table>

	<br>

	<table width="50%" border="1" cellpadding="3">
	<caption align="top"><b>Stylesheets required for export</b></caption>
	<thead>
	<tr>
	<th>Article</th>
	<th>Chapter</th>
	</tr>
	</thead>
	<tbody>
	<tr>
	<td align="center" valign="middle"><a href="http://xml.openoffice.org/source/browse/xml/xmerge/java/org/openoffice/xmerge/converter/xml/xslt/docbook/">sofftodocbookheadings_article.xsl</a></td>
	<td align="center" valign="middle"><a href="http://xml.openoffice.org/source/browse/xml/xmerge/java/org/openoffice/xmerge/converter/xml/xslt/docbook/">sofftodocbookheadings_chapter.xsl</a></td>
	</tr>
	</tbody>
	</table>

	<br>

	<b>OpenOffice.org Template required for Article and Chapter documents:</b> 
	<ul><li><a href="../downloads/DocBookTemplate.stw">DocBookTemplate.stw</a></li></ul> <br>

	<h3>Creating a new DocBook filter</h3>
	<p>
	<ul>
	<li>Go to Tools -&gt; XML Filter Settings...</li> 
	<li>Set <i>Filter Name</i> and <i>Name of File Type</i> to <i>DocBook (Chapter)</i></li>
	<li>Go to the Transformation tab</li>
	<li>Set DocType to &lt;chapter&gt;</li>
	<li>For <i>XSLT for Export</i> browse to the chapter export stylesheet (sofftodocbookheadings_chapter.xsl).</li>
	<li>For <i>XSLT for Import</i> browse to the chapter import stylesheet (docbooktosoffheadings.xsl).</li>
	<li>For <i>Template for Import</i> browse to the style template (DocBookTemplate.stw).</li>
	<li>Click OK and close the XSLT Filter Setting dialog</li>
	</ul> <br>
	To create a DocBook Article filter, the above steps can be repeated with <i>article</i> replacing <i>chapter</i>
	</p>


	<h3>2. Download the DocBook XSLT Jar Packages for Article or Chapter</h3>
	<p>
	This method of enabling the DocBook filters is more convenient, but it does not guarantee that the most recent stylesheets and OpenOffice.org template are used. 
	<b>TBD</b>
	</p>

	<h3>3. Download the DocBook UNO component for Article only</h3>
	<p>
	The DocBook UNO component adds filter support for the retention of unresolved XML entities.
	<ul>
	<li>Download the<a href="../downloads/DocBookFilter.zip"> DocBookFilter </a></li>
	<li>Unzip it to the &lt;OOo install Dir&gt;/</li>
	<li>Run pkgchk in the &lt;OOo install Dir&gt;/program dir</li>
	<li>The DocBook Article filter will now import DocBook unresolved entities as OpenOffice.org set variables</li>
	</ul>	
	</p>

	<h2>How to Import a DocBook document</h2>
	<p>A DocBook article or chapter document can now be opened using the File -&gt; Open dialog.
	<ul>
	<li>Go to File -&gt; Open...</li>
	<li>Browse to the DocBook document.</li>
	<li>Click OK</li>
	</ul>
	The DocBook XSLT filter should automatically determine the root element of the document and import it with the matching XSLT filter.<br>
	Alternatively, it is possible to browse manually to the desired DocBook filter in the <i>File Type</i> combo-box in the File -&gt; Open dialog. 
	</p>

	<h2>How to Export a DocBook document</h2>
	<p>The DocBook document can also be exported using the File -&gt; Save As dialog.
	<ul>
	<li>Go to File -&gt; Save As...</li>
	<li>Browse to the location where the document is to be saved</li>
	<li>Click Save</li>
	</ul>
	Again, the DocBook XSLT filter should automatically determine the file type and export with the matching XSLT filter.<br>
	Alternatively, it is possible to browse manually to the desired DocBook filter in the <i>File Type</i> combo-box in the File -&gt; Save As dialog.
	</p>

	<h2>Using OpenOffice.org Headings and Styles for different DocBook tags</h2>

	<h3>Using OpenOffice.org styles to represent DocBook tags</h3>
	<p>The style template supplies all of the custom styles that are currently supported. Once a DocBook document has been imported to OpenOffice.org, the available DocBook specific styles can be viewed using the Stylist.
	<!-- needs screen shot of recent template's Stylist here
	<img src="stylist.png" align="right" hspace="10" vspace="10"/>
-->
	On import, each of the supported DocBook tags will be mapped to formatted OpenOffice.org content. Similarly, to modify the imported DocBook document, OpenOffice.org text styles can be used to represent the DocBook tags marking-up the text. <br> <br>

	<b>NOTE:</b> A new DocBook document can be created in OpenOffice.org by opening the DocBookTemplate.stw. The document can then be saved as a DocBook document, and the new content will be represented as DocBook mark-up. <br> <br> 

	<i>How to create new DocBook content</i>:
	<ul>
	<li>Press <b>F11</b> to display the Stylist</li>
	<li>Select <b>Custom Styles</b> in the Stylist combo-box</li>
	<li>Click the <b>Character Styles</b> icon (second from left on the Stylist)</li>
	<li>Double-click the <b>SubScript</b> style</li>
	<li>Enter text in the OpenOffice.org document</li>
	<li>On exporting as DocBook, the text formatted as the <b>SubScript</b> custom style will be marked-up with the DocBook tag <b>&lt;subscript&gt;</b></li>
	</ul>
	
	</p>

	<p>
	</p>

	<p>
	<i>How to create DocBook sections</i>: <br> <br> 
	Initially the DocBook project used OpenOffice.org sections to enforce the nesting of DocBook sections.
	Feedback has shown that authors wish to use the common word processing styles such as Heading1, Heading2, etc. The following instructions describe how to create a &lt;sect1&gt; that contains a &lt;sect2&gt;
	<ul>
	<li>Press <b>F11</b> to display the Stylist</li>
	<li>Select <b>All Styles</b> in the Stylist combo-box</li>
	<li>Click the <b>Paragraph Styles</b> icon (first in the left on the Stylist)</li>
	<li>Double-click the <b>Heading 1</b> style</li>
	<li>Enter the text to be the &lt;sect1&gt; title</li>
	<li>All the text below this heading will now be the content of the DocBook &lt;sect1&gt;</li>
	<li>Enter other DocBook styles, tables, etc.</li>
	<li>Enter other DocBook styles, tables, etc. to be included in &lt;sect1&gt;</li>
	<ul>
	<li>Double-click the <b>Heading 2</b> style</li></li>
	<li>Enter the text to be the &lt;sect2&gt; title</li>
	<li>All the text below this heading will now be the content of the DocBook &lt;sect2&gt;</li>
	<li>Enter other DocBook styles, tables, etc. to be included in &lt;sect2&gt;</li>
	</ul>
	<li>This nesting of DocBook sect's using OpenOffice headings can go as far as &lt;sect4&gt; / Heading 4</li>
	</ul>	
	</p>
	<br>

	<p>
	<img src="images/Navigator.gif" align="left" hspace="10" vspace="10"/>
	<i>Navigating through the document:</i><br><br>
	If you wish to see how DocBook sections are nested as OpenOffice.org headings, use the F5 key to Display the Navigator window. Expand the headings tag, to display the layout of the headings within the document. You can skip to the start of a given DocBook section/OpenOffice.org heading, by double-clicking on it. 
	</p>

	<p>
	For further information on supported DocBook tags see: <a href="supported_tag_table.html">Supported Tags</a>
	</p>

      
    </div>
    <!--#include virtual="/footer.html" -->
  </body>
</html>
