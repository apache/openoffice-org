
<!--#include virtual="/doctype.html" -->
<html>
  <head>
    
    
<meta HTTP-EQUIV="content-type" CONTENT="text/html; charset=UTF-8">

    
    <link href="/css/ooo.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <!--#include virtual="/brand.html" -->
    <div id="topbara">
      <!--#include virtual="/topnav.html" -->
      <div id="breadcrumbsa"><a href="/">home</a>&nbsp;&raquo;&nbsp;<a href="/porting/">porting</a>&nbsp;&raquo;&nbsp;<a href="/porting/mac/">mac</a></div>
    </div>
    <div id="clear"></div>
      
      
    <div id="content">
      
      

<h3>Interview: Patrick Luby</h3>
<p><a href="http://www.openoffice.org/lspintro.html" target="_blank">-Louis Su&aacute;rez-Potts</a></p>
<p>1 May 2001
<br><br>
<p><b>Getting the Mac OS X 10.0.x Port Running: Hints and Tips</b>
<p>There has been considerable interest in building the Mac OS X 10.0.x port of OpenOffice.org. Accordingly, over the space of a few days late in April, I asked the former manager for the Mac OS X 10.0.x port some questions that should help developers interested in building the port.  
<br><br>
<p><i>Tell us about your role in making the port....</i>

<p>I am a senior engineer at Sun and was the manager for the <a href="http://porting.openoffice.org/mac/" target="_blank">Mac OS X 10.0.x port</a> of OpenOffice.org. I and my engineering team are now working on the Solaris and Linux ports of OpenOffice.org.

 <i><p>The Mac OS X 10.0.x port for OpenOffice.org code was released with work still needing to be done on it. What is the first thing that someone interested in working on the port must do?</i>
<p>Before anything else, anyone who wants to build the port should look at these three documents:
<ul>
<li>Building OpenOffice.org under Mac OS X 10.0.x (<a href="build_mac.html" target="_blank">build_mac.html</a>)
<li>What Still Needs to be Done (<a href="http://porting.openoffice.org/mac/macosx_todo_list.html" target="_blank">http://porting.openoffice.org/mac/macosx_todo_list.html</a>)
<li>Compiler and Other Technical Issues in the Mac OS X 10.0.x Platform (<a href="http://porting.openoffice.org/mac/macosx_issues.html" target="_blank">http://porting.openoffice.org/mac/macosx_issues.html</a>)
</ul>

<p>I think that developers should not be distracted by GUI issues. It is very tempting for developers to want to focus on GUI issues such as look and feel, graphics, and printing. However, these GUI issues are not the most critical. The most critical issues that developer should focus on are:
<uL>
<li>Getting the remaining modules to compile
 <li>Troubleshooting and fixing any bugs in the setup program
 <li>Troubleshooting and fixing any bugs in the OpenOffice.org start up
</ul>

<p>Currently, enough GUI support has been implemented to start up OpenOffice.org once the above three tasks are completed. Once developers can get OpenOffice.org to start up, developers can start on the remaining GUI issues.<br>
<br>
<p><i>How much time would you estimate that it takes to build the Mac OS X 10.0.x port?</i> 

<p>It takes anywhere from 50 to 100% longer to compile Mac OS X 10.0.x for OpenOffice.org than for Linux.

<p>Most of this increased build time is because Apple's version of the gcc compiler cannot handle static data members in template classes (see <a href="http://porting.openoffice.org/mac/macosx_issues.html" target="_blank">http://porting.openoffice.org/mac/macosx_issues.html</a>). As a result, we had to implement a rather inefficient process to find and initialize all static data members within template classes. Normally, the compiler would handle this task. Developers could potentially speed up the build significantly if this compiler bug were fixed. 

<p>The remaining portion of this increased build time is due to the creation of the special packaging for shared libraries (see <a href="http://porting.openoffice.org/mac/macosx_issues.html" target="_blank">http://porting.openoffice.org/mac/macosx_issues.html</a>). Currently, we run the packaging script on every shared library every time a module is delivered. Potentially, the build time could be reduced by tweaking the command in the prj/d.lst in each project so that the packaging script is run against only the shared libraries that the current module has delivered.
<br><br>

<p><i>Can you offer any other advice that will help community members get the port moving?</i> 
<p>Yes. First, and I think this is the most important point, if you have the ability to contribute, go to Apple's Darwin site (<a href="http://www.darwin.org" target="_blank">http://www.darwin.org</a>) and help fix the gcc compiler's inability to handle static data members in template classes.

<p>Second, make sure that you carefully read the documentation that I have mentioned earlier. Understanding the specifics of each technical issue will save developers a lot of unnecessary pain when working with the OpenOffice.org source code.

<p>Third, resist the urge to focus on GUI and, instead, work on compiling the remaining modules and getting OpenOffice.org to install and start up.

<p>Fourth, and this will help you immensely, gain an understanding of the UNO Development Kit (<a href="http://udk.openoffice.org" target="_blank">http://udk.openoffice.org</a>). One of the major issues with Mac OS X 10.0.x is the duplicate symbol bug in the dynamic library loader (see <a href="http://porting.openoffice.org/mac/macosx_issues.html" target="_blank">http://porting.openoffice.org/mac/macosx_issues.html</a>). By understanding how UNO components are loaded, developers will have a much easier time implementing the workaround for the Mac OS X 10.0.x bug for the many UNO components that OpenOffice.org uses.


      
    </div>
    <!--#include virtual="/footer.html" -->
  </body>
</html>
