
<!--#include virtual="/doctype.html" -->
<html>
  <head>
    
    <title>XML source view</title><link rel="stylesheet" type="text/css" href="../xmlverbatim.css"/>
    
    <link href="/css/ooo.css" rel="stylesheet" type="text/css">
    <!--#include virtual="/scripts/google-analytics.js" --> 
    <!--#include virtual="/scripts/entourage.js" -->
  </head>
  <body class="xmlverb-default">
    <!--#include virtual="/brand.html" -->
    <div id="topbara">
      <!--#include virtual="/topnav.html" -->
      <div id="breadcrumbsa"><a href="/">home</a>&nbsp;&raquo;&nbsp;<a href="/bibliographic/">bibliographic</a>&nbsp;&raquo;&nbsp;<a href="/bibliographic/citeproc/">citeproc</a>&nbsp;&raquo;&nbsp;<a href="/bibliographic/citeproc/main/">main</a></div>
    </div>
    <div id="clear"></div>
      
      
    <div id="content">
      
      <tt>
<!-- converted by xmlverbatim.xsl 1.1, (c) O. Becker -->
<div xmlns:xd="http://www.pnp-software.com/XSLTdoc" class="xmlverb-default">&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e1">stylesheet</a></span><span class="xmlverb-ns-name"> xmlns:bib</span>="<span class="xmlverb-ns-uri">http://purl.org/NET/xbiblio/citeproc</span>"<span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://purl.org/NET/xbiblio/citeproc</span>"<span class="xmlverb-ns-name"> xmlns:cs</span>="<span class="xmlverb-ns-uri">http://purl.org/NET/xbiblio/csl</span>"<span class="xmlverb-ns-name"> xmlns:db</span>="<span class="xmlverb-ns-uri">http://docbook.org/ns/docbook</span>"<span class="xmlverb-ns-name"> xmlns:mods</span>="<span class="xmlverb-ns-uri">http://www.loc.gov/mods/v3</span>"<span class="xmlverb-ns-name"> xmlns:xs</span>="<span class="xmlverb-ns-uri">http://www.w3.org/2001/XMLSchema</span>"<span class="xmlverb-ns-name"> xmlns:xdoc</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/XSLTdoc</span>"<span class="xmlverb-ns-name"> xmlns:xhtml</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>"<span class="xmlverb-ns-name"> xmlns:xsl</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/XSL/Transform</span>" <span class="xmlverb-attr-name">version</span>="<span class="xmlverb-attr-content">2.0</span>" <span class="xmlverb-attr-name">exclude-result-prefixes</span>="<span class="xmlverb-attr-content">xhtml mods xdoc db bib xs cs</span>"&gt;<span class="xmlverb-text"><br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e3">preserve-space</a></span> <span class="xmlverb-attr-name">elements</span>="<span class="xmlverb-attr-content">cs:prefix cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
��</span>&lt;!--<span class="xmlverb-comment">�===�licensed�under�CC-GNU�GPL;�see�http://creativecommons.org/licenses/GPL/2.0�===�</span>--&gt;<span class="xmlverb-text"><br/>
��</span><div class="xd">
��&lt;<span class="xmlverb-element-nsprefix">xdoc</span>:<span class="xmlverb-element-name"><a name="d21e7">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">stylesheet</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xdoc</span>:<span class="xmlverb-element-name"><a name="d21e9">short</a></span>&gt;<span class="xmlverb-text">Process�CSL�files�to�configure�formatting.</span>&lt;/<span class="xmlverb-element-nsprefix">xdoc</span>:<span class="xmlverb-element-name">short</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xdoc</span>:<span class="xmlverb-element-name"><a name="d21e12">author</a></span>&gt;<span class="xmlverb-text">Bruce�D&#8217;Arcus</span>&lt;/<span class="xmlverb-element-nsprefix">xdoc</span>:<span class="xmlverb-element-name">author</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xdoc</span>:<span class="xmlverb-element-name"><a name="d21e15">copyright</a></span>&gt;<span class="xmlverb-text">2004,�Bruce�D&#8217;Arcus</span>&lt;/<span class="xmlverb-element-nsprefix">xdoc</span>:<span class="xmlverb-element-name">copyright</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xdoc</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e19">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">refclass-partInSerial</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('article-newspaper','legal case','bill','article','conference paper')</span>" /&gt;<span class="xmlverb-text"><br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e21">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">refclass-partInMonograph</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('song','chapter')</span>" /&gt;<span class="xmlverb-text"><br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e24">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">refclass-monograph</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('report','personal communication','book')</span>" /&gt;<span class="xmlverb-text"><br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e26">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">genres</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('thesis', 'newsletter', 'dissertation')</span>" /&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e28">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:citation</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e30">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">cite-ref</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e32">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">last-in-author-group</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e34">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element(mods:mods)?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">bib</span>:<span class="xmlverb-element-name"><a name="d21e36">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">citation</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">#{@ID}</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e38">choose</a></span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e40">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">cs:first</span>"&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e42">choose</a></span>&gt;<span class="xmlverb-text"><br/>
������������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e44">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">bib:first-reference($cite-ref)</span>"&gt;<span class="xmlverb-text"><br/>
��������������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e46">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:first</span>"&gt;<span class="xmlverb-text"><br/>
����������������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e48">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">use_reftype</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/@bib:use-reftype</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
��������������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text">������<br/>
������������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br/>
������������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e52">otherwise</a></span>&gt;<span class="xmlverb-text"><br/>
��������������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e54">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:subsequent</span>"&gt;<span class="xmlverb-text"><br/>
����������������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e56">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">use_reftype</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/@bib:use-reftype</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
��������������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
������������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e62">otherwise</a></span>&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e64">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">* except (cs:prefix|cs:suffix)</span>"&gt;<span class="xmlverb-text"><br/>
������������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e66">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">use_reftype</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/@bib:use-reftype</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text">��������<br/>
��������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">bib</span>:<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e72">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">not($last-in-author-group) and not($citeclass='number' or $citeclass='citekey')</span>"&gt;<span class="xmlverb-text">,�</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;!--<span class="xmlverb-comment">�FIX�ME:�move�below�code�to�CSL�templates�<br/>
������&lt;xsl:value-of�select="bib:year-suffix"/&gt;<br/>
��</span>--&gt;<span class="xmlverb-text"><br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e78">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:point</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e80">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">cite-ref</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e82">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$cite-ref/@begin</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e84">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e86">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$cite-ref/@begin</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e88">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$cite-ref/@end</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e90">text</a></span>&gt;<span class="xmlverb-text">&#8211;</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">text</span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e93">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">bib:number-condense($cite-ref/@begin, $cite-ref/@end)</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text">����<br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e98">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:first</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e100">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:layout</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e102">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">multi-authors</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:multiple-authors</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element(cs:multiple-authors)?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e107">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:layout</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e109">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">use_reftype</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e111">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (cs:reftype) then (cs:reftype[@name=$use_reftype]) else *</span>" /&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e114">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:subsequent</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e116">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (cs:layout) then (cs:layout) else (preceding-sibling::cs:first/cs:layout)</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e118">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">multi-authors</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (cs:multiple-authors) then (cs:multiple-authors) else (preceding-sibling::cs:first/cs:multiple-authors)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element(cs:multiple-authors)?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e122">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:all</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e124">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:layout</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e126">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">multi-authors</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:multiple-authors</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element(cs:multiple-authors)?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e130">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:number</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e132">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">cite-ref</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-name"><a name="d21e134">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">mark</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e136">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:formatted-biblist/bib:item[@id=$cite-ref/@linkend]/@bib:biblist-number</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e140">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:citekey</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e142">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">cite-ref</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-name"><a name="d21e144">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">mark</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e146">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$cite-ref/@linkend</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;!--<span class="xmlverb-comment">�change�citeproc�to�apply-templates�here�with�use-reftype�parameter�</span>--&gt;<span class="xmlverb-text"><br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e153">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:bibliography</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e155">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element(mods:mods)</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e157">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">use_reftype</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e159">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:layout/cs:reftype[@name=$use_reftype]</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e161">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">multi-authors</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:multiple-authors</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element(cs:multiple-authors)?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e163">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">em-dash-author</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">self::cs:bibliography and $bib:source/@bib:shorten-author='true'</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e167">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:reftype</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;!--<span class="xmlverb-comment">�needed�to�change�the�below�to�optional;�may�need�to�check�this�again�later�</span>--&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e171">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:number</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e173">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element(mods:mods)</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-name"><a name="d21e175">item</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">bibref</span>" <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">{$bib:source/@ID}</span>" <span class="xmlverb-attr-name">bib:biblist-number</span>="<span class="xmlverb-attr-content">{$bib:number}</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e177">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$citeclass='number'</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-name"><a name="d21e179">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">mark</span>"&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e181">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:number</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e184">text</a></span>&gt;<span class="xmlverb-text">.�</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">text</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e188">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$citeclass='citekey'</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e190">text</a></span>&gt;<span class="xmlverb-text">[</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">text</span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e193">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/@ID</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e195">text</a></span>&gt;<span class="xmlverb-text">]�</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">text</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text">�<br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e199">apply-templates</a></span> /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e201">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bibref-after</span>" /&gt;<span class="xmlverb-text">��<br/>
����</span>&lt;/<span class="xmlverb-element-name">item</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
����<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e205">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:creator</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e207">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">first-in-author-group</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e209">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">local-cite-style</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e211">choose</a></span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e213">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">ancestor::cs:citation</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e215">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$first-in-author-group and not($local-cite-style='year')</span>"&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e217">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e219">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:names | cs:names-short | cs:role</span>" /&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e221">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e225">otherwise</a></span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e227">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e229">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:names | cs:names-short | cs:role</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e231">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e236">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:creator/cs:names</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e238">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e240">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">em-dash-author</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e242">choose</a></span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e244">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$em-dash-author</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;!--<span class="xmlverb-comment">�fix�to�config�in�CSL�</span>--&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e248">text</a></span>&gt;<span class="xmlverb-text">&#8212;&#8212;�</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">text</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e252">otherwise</a></span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e254">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/bib:noname-substitute</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e256">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:name[mods:role/mods:roleTerm=$primary-contributors]</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">full</span>"&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e258">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e260">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e262">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sort-order</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$style-biblio/@author-as-sort-order</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e268">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:creator/cs:names-short</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e270">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e272">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">em-dash-author</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e274">choose</a></span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e276">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$em-dash-author</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;!--<span class="xmlverb-comment">�fix�to�config�in�CSL�</span>--&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e280">text</a></span>&gt;<span class="xmlverb-text">&#8212;&#8212;�</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">text</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e284">otherwise</a></span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e286">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/bib:noname-substitute</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e288">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:name[mods:role/mods:roleTerm=$primary-contributors]</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">short</span>"&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e290">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e292">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e294">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sort-order</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$style-biblio/@author-as-sort-order</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e300">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:role</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e302">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e304">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:name/mods:role</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e306">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e308">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e313">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:title</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e315">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e317">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:titleInfo[not(@type)]</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">full</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e319">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e321">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e323">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">font-style</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@font-style</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e325">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">font-weight</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@font-weight</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e329">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:conference</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e331">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e333">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:name[@type='conference']/mods:namePart</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e335">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e337">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e339">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">font-style</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@font-style</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e341">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">font-weight</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@font-weight</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e345">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:origin</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e347">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e349">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$bib:source/mods:originInfo/mods:publisher or $bib:source/mods:originInfo/mods:place</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-name"><a name="d21e351">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">origin</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e353">apply-templates</a></span> /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e358">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:container</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e360">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-name"><a name="d21e362">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">container</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e364">apply-templates</a></span>&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e366">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:relatedItem[@type='host']</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e371">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:series</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e373">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e375">apply-templates</a></span>&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e377">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:relatedItem[@type='series']</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e381">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:part-details</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e383">apply-templates</a></span> /&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e387">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:prefix | cs:suffix</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e389">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e392">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:issue</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e394">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e396">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:part/mods:detail[@type='issue']</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e398">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e400">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e404">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:file</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e406">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e408">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:part/mods:detail[@type='file']</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e410">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e412">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e416">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:volume</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e418">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e420">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:part/mods:detail[@type='volume']</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e422">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e424">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e428">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:genre</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e430">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e432">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:genre[text()=$genres]</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e434">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e436">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e440">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:medium</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e442">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e444">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:physicalDescription</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e446">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e448">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e453">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:pages</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e455">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e457">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:part/mods:extent[@unit='page']</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e459">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e461">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e465">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:place</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e467">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e469">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:originInfo/mods:place</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e471">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e473">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e477">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:publisher</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e479">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e481">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:originInfo/mods:publisher</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e483">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e485">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e489">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:date</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e491">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;!--<span class="xmlverb-comment">�the�below�conditional�seems�a�bit�of�a�hack;�need�to�reconsider�later�</span>--&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e495">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">(../$bib:source/mods:originInfo/mods:dateIssued, $bib:source/mods:originInfo/mods:dateIssued, $bib:source/mods:part/mods:date)[1]</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e497">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">cs:month and not($date castable as xs:gYear) or cs:year</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-name"><a name="d21e499">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">date</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e501">apply-templates</a></span> /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e506">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:year</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;!--<span class="xmlverb-comment">�I'm�not�sure�why�requiring�the�bib:source�parameter�fails�in�some�cases�</span>--&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e510">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e512">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e514">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e516">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/bib:year</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e518">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e520">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e524">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:month</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e526">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e528">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e530">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;!--<span class="xmlverb-comment">�select�statement�is�a�problem;�problem�need�to�move�this�into�a�function�</span>--&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e534">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:originInfo/mods:dateIssued|$bib:source/mods:part/mods:date</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">month</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e536">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e538">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e543">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:day</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e545">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e547">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e549">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e551">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:originInfo/mods:dateIssued|$bib:source/mods:part/mods:date</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">day</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e553">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e555">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;!--<span class="xmlverb-comment">�end�dates�</span>--&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e561">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:availability</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e563">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e565">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e567">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e569">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:location</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e571">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e573">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e577">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:month-day</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e579">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e581">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e583">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e585">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$prefix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-name"><a name="d21e587">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">month-day</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e589">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:relatedItem/mods:part/mods:date|$bib:source/mods:relatedItem/mods:originInfo/mods:dateIssued</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">date</span>"&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e591">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
��������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e593">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e598">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$suffix</span>" /&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
��<br/>
��</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e601">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">cs:note</span>"&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e603">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">bib:source</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e605">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$bib:source/mods:note[@type='citation']</span>"&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e607">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:prefix</span>" /&gt;<span class="xmlverb-text"><br/>
������</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d21e609">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">suffix</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">cs:suffix</span>" /&gt;<span class="xmlverb-text"><br/>
����</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br/>
��</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br/>
<br/>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">stylesheet</span>&gt;<br/>
</div>
</tt><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>v
         
      
    </div>
    <!--#include virtual="/footer.html" -->
  </body>
</html>
