<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<head>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE>meeting minutes</TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice 6.0  (Win32)">
	<META NAME="CREATED" CONTENT="20020416;10242021">
	<META NAME="CHANGED" CONTENT="20020416;12434720">
	<META NAME="KEYWORDS" CONTENT="protocol template user interface">
	<STYLE>
	<!--
		@page { margin: 2cm }
		P { margin-bottom: 0.21cm; font-family: "Frutiger-Roman", "Arial", "Helvetica"; font-size: 12pt; widows: 2; orphans: 2; page-break-before: auto; page-break-after: auto }
		H1 { margin-top: 0.63cm; margin-bottom: 0.21cm; widows: 2; orphans: 2; page-break-before: auto; page-break-after: auto }
		H1.western { font-family: "Frutiger-Roman", "Arial", "Helvetica"; font-size: 16pt }
		P.documenttype { font-family: "Frutiger-Roman", "Arial", "Helvetica"; font-size: 24pt; font-weight: bold }
		P.companyname { margin-bottom: 0cm; color: #00a6ff; font-family: "Frutiger-Bold", "Arial", "Helvetica"; font-size: 36pt; font-weight: bold; text-align: right }
		H2 { margin-bottom: 0.21cm; page-break-before: auto; page-break-after: auto }
		H2.western { font-family: "Andale Sans", "Arial", Sans-Serif; font-size: 12pt; so-language: en-US; font-style: italic }
		H2.cjk { font-family: "HG Mincho Light J", "MS Mincho", "HG Mincho J", "HG Mincho L", "HG Mincho", "Mincho", "MS PMincho", "MS Gothic", "HG Gothic J", "HG Gothic B", "HG Gothic", "Gothic", "MS PGothic", "Andale Sans UI", "Arial Unicode MS", "Lucida Sans Unicode", "Tahoma"; font-size: 12pt; font-style: italic; font-weight: medium }
		H2.ctl { font-size: 12pt; font-style: italic; font-weight: medium }
		TD P { margin-bottom: 0.21cm; font-family: "Frutiger-Roman", "Arial", "Helvetica"; font-size: 12pt; widows: 2; orphans: 2; page-break-before: auto; page-break-after: auto }
		TH P { margin-bottom: 0.21cm; font-family: "Frutiger-Roman", "Arial", "Helvetica"; font-size: 12pt; font-weight: medium; text-align: left; widows: 2; orphans: 2; page-break-before: auto; page-break-after: auto }
		A:link { text-decoration: none }
	-->
	</STYLE>
</head>
<body LANG="en-US">
<TABLE WIDTH=100% BORDER=0 CELLPADDING=0 CELLSPACING=0 STYLE="page-break-before: always; page-break-inside: avoid">
	<COL WIDTH=114*>
	<COL WIDTH=142*>
	<THEAD>
		<TR VALIGN=TOP>
			<TD WIDTH=45%>
				<P CLASS="documenttype"><a href="index.html">Meeting Minutes</a></P>
			</TD>
			<TD WIDTH=55%>
				<P CLASS="companyname">OpenOffice.org</P>
			</TD>
		</TR>
	</THEAD>
</TABLE>
<P ALIGN=LEFT STYLE="margin-top: 0.63cm; margin-bottom: 0.42cm; page-break-after: avoid"><B>Form Layer Accessibility</B></P>
<TABLE WIDTH=100% BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 FRAME=HSIDES RULES=ROWS STYLE="page-break-inside: avoid">
	<COL WIDTH=46*>
	<COL WIDTH=210*>
	<TR VALIGN=TOP>
		<TH WIDTH=18% BGCOLOR="#00b8ff">
			<P>Date &amp; Time</P>
		</TH>
		<TD WIDTH=82% BGCOLOR="#ffffff" SDVAL="0" SDNUM="1031;0;@">
			<P>April, 15<SUP>th</SUP>, 2002, 15:00 - 16:00 MEST</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TH ROWSPAN=4 WIDTH=18% BGCOLOR="#00b8ff">
			<P>Attendees</P>
		</TH>
		<TD WIDTH=82% BGCOLOR="#ffffff">
			<P>MT - Malte Timmermann</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=82% VALIGN=TOP BGCOLOR="#ffffff">
			<P>AF - Andre Fischer</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=82% VALIGN=TOP BGCOLOR="#ffffff">
			<P>CL - Christian Lippka</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=82% VALIGN=TOP BGCOLOR="#ffffff">
			<P>FS - Frank Sch&ouml;nheit</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TH WIDTH=18% BGCOLOR="#00b8ff">
			<P>Minute Taker</P>
		</TH>
		<TD WIDTH=82% BGCOLOR="#ffffff">
			<P>FS - Frank Sch&ouml;nheit</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TH WIDTH=18% BGCOLOR="#00b8ff">
			<P>Recipients</P>
		</TH>
		<TD WIDTH=82% BGCOLOR="#ffffff">
			<P>News group sun.star.minutes</P>
		</TD>
	</TR>
</TABLE>
<P><BR><BR>
</P>
<DIV ID="Table of Contents1">
	<P><BR><BR>
	</P>
	<DIV ID="Table of Contents1_Head">
		<P STYLE="margin-top: 0.42cm; widows: 0; orphans: 0; page-break-after: avoid"><B>Overview</B></P>
	</DIV>
	<P STYLE="margin-top: 0.2cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	1. <A HREF="#1.Action Items|outline">Action Items</A></P>
	<P STYLE="margin-top: 0.2cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	2. <A HREF="#2.Intention of this meeting|outline">Intention of this
	meeting</A></P>
	<P STYLE="margin-top: 0.2cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	3. <A HREF="#3.Inventory|outline">Inventory</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	3.1. <A HREF="#3.1.Design Mode vs. Alive Mode|outline">Design Mode
	vs. Alive Mode</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	3.2. <A HREF="#3.2.Name/Description|outline">Name/Description</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	3.3. <A HREF="#3.3.AccessibleParent|outline">AccessibleParent</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	3.4. <A HREF="#3.4.Geometry information|outline">Geometry
	information</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	3.5. <A HREF="#3.5.Integration into the Document's Accessibility Component Tree|outline">Integration
	into the Document's Accessibility Component Tree</A></P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0.1cm; widows: 0; orphans: 0">
	3.6. <A HREF="#3.6.Notifications|outline">Notifications</A></P>
</DIV>
<H1 CLASS="western"><A NAME="1.Action Items|outline"></A>1. Action
Items</H1>
<TABLE WIDTH=643 BORDER=1 BORDERCOLOR="#000000" CELLPADDING=4 CELLSPACING=0 FRAME=HSIDES RULES=ROWS STYLE="page-break-inside: auto">
	<COL WIDTH=376>
	<COL WIDTH=78>
	<COL WIDTH=165>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=376 BGCOLOR="#00b8ff">
				<P>Task</P>
			</TH>
			<TH WIDTH=78 BGCOLOR="#00b8ff">
				<P>Owner</P>
			</TH>
			<TH WIDTH=165 BGCOLOR="#00b8ff">
				<P>Status</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR>
			<TH COLSPAN=3 WIDTH=635 VALIGN=TOP>
				<P><B>New Action Items</B></P>
			</TH>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=376>
				<P STYLE="widows: 0; orphans: 0">create a base class for
				accessible UNO components which can be UNO-tunneled and
				re-parented</P>
			</TD>
			<TD WIDTH=78>
				<P>FS</P>
			</TD>
			<TD WIDTH=165>
				<P>new</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=376>
				<P STYLE="widows: 0; orphans: 0">create a fallback implementation
				for the Accessibility component of an UNO control</P>
			</TD>
			<TD WIDTH=78>
				<P>FS</P>
			</TD>
			<TD WIDTH=165>
				<P>new</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=376>
				<P STYLE="widows: 0; orphans: 0">check how to obtain an XControl
				from an XControlModel and a drawing layer view</P>
			</TD>
			<TD WIDTH=78>
				<P>FS</P>
			</TD>
			<TD WIDTH=165>
				<P>new</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=376>
				<P STYLE="widows: 0; orphans: 0">integrate the Accessibility
				components form SdrUnoControls (once finished) into the
				Accessibility Component Tree of the drawing layer</P>
			</TD>
			<TD WIDTH=78>
				<P>AF</P>
			</TD>
			<TD WIDTH=165>
				<P>new</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<H1 CLASS="western" STYLE="margin-top: 0.42cm; margin-bottom: 0.5cm; widows: 0; orphans: 0; page-break-after: avoid"><A NAME="2.Intention of this meeting|outline"></A>
<BR><BR>
</H1>
<H1 CLASS="western"><A NAME="3.6.Notifications|outline"></A><A NAME="3.5.Integration into the Document's Accessibility Component Tree|outline"></A><A NAME="3.4.Geometry information|outline"></A><A NAME="3.3.AccessibleParent|outline"></A><A NAME="3.2.Name/Description|outline"></A><A NAME="3.1.Design Mode vs. Alive Mode|outline"></A><A NAME="3.Inventory|outline"></A>
2. Intention of this meeting</H1>
<P>The intention of this meeting was to clarify what needs to be done
for making form layer controls accessible. More general, the Toolkit
controls would have to be made accessible (in terms of supporting the
respective UAA (UNO Accessibility API)), which then would imply
accessibility of form controls as well as the Basic dialog editor's
control design part.</P>
<H1 CLASS="western">3. Inventory</H1>
<P>Currently, only the peers for UNO controls are accessible - they
inherit the respective UNO functionality from the VCL controls
they're based on.</P>
<H2 CLASS="western">3.1. Design Mode vs. Alive Mode</H2>
<P>There should be a difference in representing UNO controls in the
UAA (UNO Accessibility API) between controls in alive and controls in
design mode. In design mode, a VCL control (such as a Edit field) is
used for painting the control only, but does not expose e.g. the
ability to being focused. So it seems necessary to have two different
implementations.</P>
<P>For alive mode, it seems quite natural to use the accessibility
wrapper of the VCL controls (which can be obtained from the peers),
which already are (or are going to be) implemented. For some sub
problems then, see below.</P>
<P>For the design mode, we decided to use an own wrapper class
(action item: FS), which only provides the most basic functionality
such as geometry information and a name. Finally, this is all which
the controls in design mode are used for. Everything else can be
accessed via for instance the property browser.</P>
<H2 CLASS="western">3.2. Name/Description</H2>
<P>We decided to provide no description (means an empty one) for the
moment. The problem is that else we would need an user interface for
the creator of a document (or smaller: the creator of a form control)
to set such a description. This is consistent with &quot;ordinary&quot;
shapes (not carrying an UNO control), which at the moment neither
have a AccessibleDescription nor an user interface for the creator of
the document to set such a description.</P>
<P>For the name, we decided to provide the name which can be obtained
at the model (if any, this is the case for form controls, but not for
Basic controls), or a default name (such as &quot;edit field &lt;no&gt;&quot;).</P>
<H2 CLASS="western">3.3. AccessibleParent</H2>
<P>A problem which arose is related to the parent objects in the
hierarchy of Accessibility objects. No matter if we use the default
accessibility object provided by VCL (in alive mode), or a fallback
implementation (in design mode), the component never knows it's
proper parent. In the VCL case, it would even know a <I>wrong</I>
parent.</P>
<P>After quite some discussion we decided to use an UnoTunnel based
implementation. For this, a new base class (AccessibleImplementation
or so) will be created (action item: FS), which does nothing more
than supporting the XUnoTunnel, providing a static method for
re-parenting of an existing component, and a (not static) method for
retrieving the current AccessibleParent.<BR>Every class which needs
re-parenting could then derive from this helper.</P>
<P>With this help, we could rely on the standard implementation for
retrieving the AccessibleIndexInParent: ask the parent for all
children and check for equivalence with the component itself.</P>
<H2 CLASS="western">3.4. Geometry information</H2>
<P>The accessibility wrapper for an UNO control needs to support the
XAccessibleComponent interface for providing geometry information,
too. We think that this can be solved in our accessibility
implementations (in opposite to an outer, shape-specific
implementation which would just aggregate our implementation) by
taking into account:</P>
<UL>
	<LI><P>the screen coordinates of the VCL parent</P>
	<LI><P>the screen coordinates of the Accessibility parent</P>
	<LI><P>the relative coordinates of the component relative to it's
	VCL parent</P>
</UL>
<P>These information should be sufficient for calculating the
coordinates relative to the Accessibility parent, which is what is
needed for UAA.</P>
<P>In general, all geometry information available in the Toolkit (and
transported via UNO) is in Pixel, so we should not need to bother
with mappings.</P>
<H2 CLASS="western">3.5. Integration into the Document's
Accessibility Component Tree</H2>
<P>When integrating the Accessibility components for form controls
into the document's tree, we need a method for retrieving a UNO
control, given it's model and the view where it resides in (remember
that we have one model, but potentially multiple views, and UAA is
view-centric).</P>
<P>The code for doing this should be already somewhere in SVX, FS is
to look it up and provide the details to AF.</P>
<P>AF is to do the integration once the implementation is finished.
It's not yet decided whether the accessibility component for a
control should be a child of the accessibility component of the
respective shape, or if they should be &quot;merged&quot; to one
component.</P>
<H2 CLASS="western">3.6. Notifications</H2>
<UL>
	<LI><P>As controls in design and alive mode are represented by
	different implementations, we need to dispose the current
	implementation of all controls as soon as the design mode is
	switched.</P>
	<LI><P>Whenever a shape is positioned or sized, the notification for
	this is in the responsibility of the accessibility component of the
	control, too.</P>
	<LI><P>state changes: The only state which can change during the
	lifetime of an control's accessibility component is &quot;selected&quot;.
	This means whenever a shape in the view is marked, the acc-component
	needs to be notified of this, and it then should notify it's
	AccessibilityListeners.<BR>For the first step (notifying the
	acc-component), we decided to use the base class introduced in
	chapter 3.4. The alternative would be a wrapper class in the drawing
	layer, which aggregates the AccessibleContext of the control, just
	for the reason of overriding state handling.</P>
</UL>
<DIV TYPE=FOOTER>
	<P ALIGN=RIGHT STYLE="margin-top: 0.5cm; margin-bottom: 0cm; widows: 0; orphans: 0; page-break-before: auto; page-break-after: auto">
	Page <SDFIELD TYPE=PAGE SUBTYPE=RANDOM FORMAT=PAGE>1</SDFIELD> of <SDFIELD TYPE=DOCSTAT SUBTYPE=PAGE FORMAT=PAGE>1</SDFIELD></P>
</DIV>
</body>
</HTML>
