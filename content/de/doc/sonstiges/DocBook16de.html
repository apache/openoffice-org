

<!--#include virtual="/doctype.html" -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <link href="/css/ooo.css" rel="stylesheet" type="text/css">
    
<meta HTTP-EQUIV="content-type" CONTENT="text/html; charset=UTF-8">

    
    <script src="https://www.apachecon.com/event-images/snippet.js"></script>
  </head>
  <body>
    <!--#include virtual="/de/brand.html" -->
    <div id="topbara">
      <!--#include virtual="/de/topnav.html" -->
      <div id="breadcrumbsa"><a href="/">home</a>&nbsp;&raquo;&nbsp;<a href="/de/">de</a>&nbsp;&raquo;&nbsp;<a href="/de/doc/">doc</a>&nbsp;&raquo;&nbsp;<a href="/de/doc/sonstiges/">sonstiges</a></div>
    </div>
    <div id="clear"></div>
      
      
    <div id="content">
      
      
<H1>1 DocBook-Filter
f&uuml;r OpenOffice.org</H1>
<P>In diesem Dokument
soll dargestellt werden, wie OpenOffice.org als WYSIWYG-Editor f&uuml;r
XML-Dateien verwendet werden kann. Das Prinzip basiert darauf,
Dokumente zu erstellen, die durch Stilvorlagen strukturiert werden.
Beim Export werden diese Stilvorlagen in XML-Tags
umgewandelt.</P>
<P>Dieses How-To zeigt Ihnen, wie man den DocBook-Filter ansprechen und benutzen
  kann. Es zeigt auch, wo die entsprechenden Vorlagen zu finden sind. Die Benutzer
  k&ouml;nnen sie also herunterladen und immer die neueste Version verwenden.</P>
<table width=100%  cellpadding=4 cellspacing=1 frame=VOID>
  <col > <col > <thead> 
  <tr> 
    <td width=7%> 
      <p align=CENTER"> <img src="pics/hinweis.png" name="Grafik2" align=MIDDLE vspace=11 border=0></p>
    </td>
    <td width=93% valign=TOP bgcolor="#f0f0f0">
      <p>Die Angaben zu diesem Dokument beziehen sich auf OpenOffice.org 1.1 Beta 
        1. Kleine technische Details k&ouml;nnen sich in sp&auml;teren Versionen 
        leicht ver&auml;ndert haben.</p>
    </td>
  </tr>
  </thead> 
</table>
<P>Anfangs benutzte OpenOffice.org Bereiche, um
DocBook-Bereiche umzusetzen. Es hat sich allerdings herausgestellt,
dass Benutzer die gebr&auml;uchlichen Textverarbeitungsvorlagen wie
&Uuml;berschrift1, &Uuml;berschrift2 etc. vorziehen. Die mit OOo1.1
Beta mitgelieferten Stylesheets und Vorlagen benutzen
OpenOffice.org-Bereiche. Sie finden unten Links zu Stylesheets, die
OOo-&Uuml;berschriften benutzen, und Installationsanweisungen daf&uuml;r.
Die Stylesheets unterst&uuml;tzen im Moment nur DocBook-Artikel.
Unterst&uuml;tzung f&uuml;r B&uuml;cher und Kapitel ist geplant.</P>
<P>Sie finden die Stylesheets in einer .jar-Datei. Der Inhalt dieser Datei wird 
  sp&auml;ter in diesem Dokument erkl&auml;rt. In der Zukunft soll OOo Im- und 
  Export von XSLT direkt unterst&uuml;tzen.</P>
<P>F&uuml;r einen &Uuml;berblick, was im Moment schon
geht, beachten Sie bitte:</P>
<UL>
	<LI><P>Ein
	Beispiel-DocBook-Dokument. 
	</P>
</UL>
<UL>
	<LI><P>Das zugeh&ouml;rige Writer
	(.sxw)-Dokument nach dem Import der DocBook-Datei.</P>
</UL>
<TABLE WIDTH=100% BORDER=0 CELLPADDING=4 CELLSPACING=1>
	<COL >
	<COL >
	<THEAD>
		<TR>
			<TD WIDTH=7%>
				<P ALIGN=CENTER>
				<IMG SRC="pics/hinweis.png" NAME="Grafik4" ALIGN=MIDDLE VSPACE=11 BORDER=0></P>
			</TD>
			<TD WIDTH=93% VALIGN=TOP BGCOLOR="#f0f0f0">
				<P>Nested Bereiche werden unterst&uuml;tzt. Siehe
				dazu Verwendete oder Benutzervorlangen im Stylisten, welche Tags
				unterst&uuml;tzt werden.</P>
			</TD>
		</TR>
	</THEAD>
</TABLE>
<P>
</P>
<TABLE WIDTH=100%  CELLPADDING=4 CELLSPACING=1 FRAME=VOID>
	<COL >
	<COL >
	<THEAD>
		<TR>
			<TD WIDTH=7%>
				<P ALIGN=CENTER">
				<IMG SRC="pics/hinweis.png" NAME="Grafik2" ALIGN=MIDDLE VSPACE=11 BORDER=0></P>
			</TD>
			<TD WIDTH=93% VALIGN=TOP BGCOLOR="#f0f0f0">
				<P>Siehe auch Eric Bellots Ooo2sdbk.</P>
			</TD>
		</TR>
	</THEAD>
</TABLE>
<P>
</P>
<H1 >2 DocBook in OpenOffice.org 1.1 benutzen</H1>
<P>Die DocBook-Filter
k&ouml;nnen bei der Installation von OpenOffice.org ebenfalls
installiert werden. W&auml;hlen Sie &bdquo;Benutzergesteuerte
Installation&ldquo;. In der darauf erscheinenden Komponentenauswahl
suchen Sie Bereich <CITE >Optionale Komponenten</CITE>
und w&auml;hlen <CITE >Filter f&uuml;r mobile Ger&auml;te</CITE>.</P>
<TABLE WIDTH=100% CELLPADDING=4 CELLSPACING=1 FRAME=VOID RULES=NONE>
	<COL >
	<COL >
	<THEAD>
		<TR>
			<TD WIDTH=7%>
				<P ALIGN=CENTER>
				<IMG SRC="pics/hinweis.png" NAME="Grafik1" ALIGN=MIDDLE VSPACE=11 BORDER=0></P>
			</TD>
			<TD WIDTH=93% VALIGN=TOP BGCOLOR="#f0f0f0">
				<P>In <CITE >OpenOffice.org
				1.1 Beta 2 Deutsch</CITE> sind die DocBook-Filter schon
				aktiviert. Die folgenden Schritte k&ouml;nnen Benutzer dieser
				Version &uuml;berspringen.</P>
			</TD>
		</TR>
	</THEAD>
</TABLE>
<P>Um die
DocBook-Filter zu aktivieren, m&uuml;ssen Sie die folgende Datei
bearbeiten: <BR>&lt;OOo Install
Dir&gt;/share/registry/data/org/openoffice/Office/TypeDetection.xcu;</P>
<UL>
	<LI>Suchen Sie die Zeile <CODE>&lt;node
	oor:name=&quot;DocBook File&quot; oor:op=&quot;replace&quot;&gt;</CODE><p></P>
</UL>
<UL>
	<LI>Vor dem dazu geh&ouml;rendem Endtag <CODE>&lt;/node&gt;</CODE>
	f&uuml;gen Sie die folgenden Zeilen ein:<p></P>
<PRE><CODE>&lt;prop oor:name=&quot;Installed&quot; oor:type=&quot;xs:boolean&quot;&gt;
	&lt;value&gt;true&lt;/value&gt;
&lt;/prop&gt;</CODE></PRE>

</UL>
<UL>
	<LI>&Auml;hnlich verfahren Sie f&uuml;r XHTML.
	Der Unterschied: Sie suchen nach der Zeile &lt;node
	oor:name=&quot;XHTML File&quot; oor:op=&quot;replace&quot;&gt;.<p></P>
</UL>
<UL>
	<LI>&Auml;hnlich verfahren Sie f&uuml;r Flat XML
	File. Der Unterschied: Sie suchen nach der Zeile &lt;node
	oor:name=&quot;Flat XML File&quot; oor:op=&quot;replace&quot;&gt;.<p></P>
</UL>
<P>Ist der Filter aktiviert, dann starten Sie OOo und
&uuml;berpr&uuml;fen Sie, ob DocBook als Dateiformat in den &Ouml;ffnen-
und Speicherdialogen zur Verf&uuml;gung steht. 
</P>
<TABLE WIDTH=100% CELLPADDING=4 CELLSPACING=1 FRAME=VOID RULES=NONE STYLE="page-break-after: avoid">
	<COL >
	<COL >
	<THEAD>
		<TR>
			<TD WIDTH=7%>
				<P  ALIGN=CENTER>
				<IMG SRC="pics/tip.png" NAME="Grafik3" ALIGN=MIDDLE VSPACE=11 BORDER=0></P>
			</TD>
			<TD WIDTH=93% VALIGN=TOP BGCOLOR="#f0f0f0">
				<P>&Ouml;ffnen Sie die Auswahlliste
				f&uuml;r den Dateityp und tippen Sie mehrmals &bdquo;d&ldquo;.</P>
			</TD>
		</TR>
	</THEAD>
</TABLE>
<P>Wenn Ihr Rechner an
ein Netzwerk angeschlossen ist und das DocBook-Format eine
&ouml;ffentliche DTD-Kennung hat, m&uuml;ssen Sie die
OpenOffice.org-Einstellungen f&uuml;r HTTP-Proxy-Server noch
einstellen.</P>
<UL>
	<LI>Extras -&gt; Optionen<p></P>
	<LI>Internet -&gt; Proxy<p></P>
	<LI>Geben Sie den Namen des HTTP-Proxy-Servers
	und seine Port-Nummer ein.<p></P>
</UL>
<P>Diese Schritte sind n&ouml;tig, weil der Crimson XML-Parser versucht, das Dokument 
  entsprechend seiner DTD zu validieren.<BR>
</P>
<TABLE WIDTH=100% CELLPADDING=4 CELLSPACING=1>
	<COL >
	<COL >
	<THEAD>
		<TR>
			<TD WIDTH=7%>
				<P  ALIGN=CENTER >
				<IMG SRC="pics/hinweis.png" NAME="Grafik5" ALIGN=MIDDLE VSPACE=11 BORDER=0></P>
			</TD>
			
    <TD WIDTH=93% VALIGN=TOP BGCOLOR="#f0f0f0"> 
      <P>Der Filter basiert auf Java. Damit er korrekt funktioniert, muss die 
        Java Runtime Umgebung w&auml;hrend der Installation von OpenOffice.org 
        angegeben werden. OpenOffice.org 1.1 Beta 2 ben&ouml;tigt die JRE 1.4.1 
        oder neuer. Diese Version enth&auml;lt auch einen XML-Parser (Crimson)
        und einen XSLT-Prozessor (Xalan).</P>
			</TD>
		</TR>
	</THEAD>
</TABLE>
<H1 >3 DocBook-XML mit OpenOffice. org anlegen und
bearbeiten</H1>
<H2 >3.1 Eine DocBook-Vorlage anlegen</H2>
<P>Es ist nicht
m&ouml;glich, vordefinierten Vorlagen DocBook-Vorlagen in
OpenOffice.org zur Verf&uuml;gung zu stellen. Gehen Sie dazu wie
folgt vor:</P>
<UL>
	<LI>Laden Sie ein einfaches <A  HREF="http://xml.openoffice.org/xmerge/downloads/docbook_template.xml">DocBook
	XML-Dokument</A> herunter. 
	<p></P>
	<LI>&Ouml;ffnen Sie es in OpenOffice.org.<p></P>
	<LI>&Ouml;ffnen Sie den Stylisten mit F11 und
	w&auml;hlen Sie in der unteren Auswahlliste &bdquo;Alle&ldquo;. Nun
	werden alle enthaltenen DocBook-Vorlagen dargestellt.<p></P>
</UL>
<P>Informationen, wie man
den Filter benutzt, finden Sie im <A  HREF="docbook-user-guide-de.html">UserGuide</A>.</P>
<H2 >3.2 Bereiche/&Uuml;berschriften</H2>
<P><STRONG >Wie
man das Stylesheet &auml;ndert</STRONG></P>
<P>Der DocBook-Filter benutzt die Funktionen des
Frameworks XSLT von XMerge. Das <A  HREF="http://xml.openoffice.org/xmerge/downloads/docbook.jar">docbook.jar</A>
enth&auml;lt <A  HREF="http://xml.openoffice.org/source/browse/xml/xmerge/java/org/openoffice/xmerge/converter/xml/xslt/docbook/">zwei
XSLT Stylesheets</A>. Mit einem k&ouml;nnen Sie von DocBook nach
OpenOffice.org konvertieren und mit dem anderen von OpenOffice.org
nach DocBook.</P>
<P>Die Datei enth&auml;lt im Verzeichnis META-INF
auch die Datei converter.xml. Darin werden die unterst&uuml;tzten
MIME-Typen, die Stylesheet-Namen und das benutzte XMerge-Plugin
beschrieben.</P>
<P>Zum Bearbeiten:</P>
<UL>
	<LI>Legen Sie ein temp-Verzeichnis an.
	<ul>
		<LI><CODE>mkdir temp</CODE>
	</ul>
	<LI>Entpacken Sie das Jar in das temp-Verzeichnis.
	<ul>
		<LI><CODE>jar -xvf docbook.jar temp</CODE>
	</ul>
	<LI>Danach finden Sie diese Dateien im <code>temp</code>-Verzeichnis:
	<ul>
      <CODE>META-INF/MANIFEST.MF 
      <LI>META-INF/converter.xml</CODE>
		<LI>sofftodocbook.xsl
	
		<LI>docbooktosoff.xsl
	</ul>
</UL>
<P>Die beiden Stylesheets k&ouml;nnen nun beliebig
bearbeitet werden. Sie k&ouml;nnen auch die <A  HREF="http://xml.openoffice.org/source/browse/xml/xmerge/java/org/openoffice/xmerge/converter/xml/xslt/docbook/">neuesten
Kopien</A> herunterladen.</P>
<P>So packen Sie die ver&auml;nderten Dateien in das
Jar zur&uuml;ck:</P>
<UL>
	<LI><code>cd temp </CODE>
	<LI><code>jar -cvf ../docbook.jar</code>
	<LI>Kopieren Sie die Datei nach <code>&lt;OOo installation&gt;/program/classes </CODE>
	<LI>Starten Sie	OpenOffice.org neu. 
	<p></P>
</UL>
<P>Ein Beispiel: Wollen Sie die neuen
XSLT-Stylesheets benutzen, dann ersetzen Sie die Stylesheets im
temp-Verzeichnis mit den heruntergeladenen Versionen. Die
converter.xml-Datei enth&auml;lt Informationen f&uuml;r die
Konvertierungen, die der Filter bietet. Diese Information wird von
XMerge benutzt, wenn eine Konvertierung angefordert wird.</P>
<pre><CODE>
&lt;converters&gt;
	&lt;converter type=&quot;staroffice/sxw&quot; version=&quot;1.0&quot;&gt; 
		&lt;converter-display-name&gt;
			XSLT Transformation sxw 
		&lt;/converter-display-name&gt;
	&lt;converter-description&gt;
		Converter which performs xslt transformations 
	&lt;/converter-description&gt;
	&lt;converter-vendor&gt;
		OpenOffice.org
	&lt;/converter-vendor&gt;
	&lt;converter-class-impl&gt;
		org.openoffice.xmerge.converter.xml.xslt.PluginFactoryImpl
	&lt;/converter-class-impl&gt;
		&lt;converter-xslt-serialize&gt;
			sofftodocbookheadings.xsl
		&lt;/converter-xslt-serialize&gt;
		&lt;converter-xslt-deserialize&gt;
			docbooktosoffheadings.xsl
		&lt;/converter-xslt-deserialize&gt;
		&lt;converter-target type=&quot;application/x-docbook&quot; /&gt; 
	&lt;/converter&gt;
&lt;/converters&gt;
</CODE>
</pre>
<H2 >3.3 Momentan  unterst&uuml;tzte Tags</H2>
<P>Die <A  HREF="http://xml.openoffice.org/xmerge/docbook/DocBookTags.html">aktuelle
Liste</A> der im Moment unterst&uuml;tzten DocBook-Tags.</P>
<H1 >4 ToDo</H1>
<UL>
	<LI>Unterst&uuml;tzung weiterer DocBook-Tags<p></P>
	<LI>Unterst&uuml;tzung von XML Entities.
	Entity-Referenzen gehen momentan verloren. Man kann sie vielleicht
	erhalten, indem man sie wie Felder behandelt.<p></P>
	<LI>ArticleInfo sollte urspr&uuml;nglich die
	Dokument-Eigenschaften unterst&uuml;tzen. Dies bedeutet allerdings
	zu viele Tags. Also wird dies vielleicht ein eigener Bereich.<p></P>
	<LI>Bilder (Wir haben Platzhalter f&uuml;r die
	ben&ouml;tigten Informationen)<p></P>
	<LI>Hyperlinks<p></P>
	<LI>Kapitel<p></P>
	
  <LI>Referenzen  
    <p></P>
</UL>
 
<H1 >5 Einschr&auml;nkungen</H1>
<P>Wir wollen auf diese Einschr&auml;nkungen 
  hinweisen, betrachten sie aber nicht als un&uuml;berwindbares Hindernis. Wenn 
  es gen&uuml;gend Interesse an diesem Projekt gibt, dann wird den W&uuml;nschen 
  nach Erweiterungen auch nachgekommen.</P>
<UL>
  <LI>Benutzer k&ouml;nnen in OOo nicht festlegen, welche Vorlagen (Tags) wof&uuml;r 
    benutzt werden. Sie m&uuml;ssen sich an die Vorgaben halten.
    <p></P>
  <LI>Keine Validierung des Exports.
    <p></P>
</UL>
<H1 >6 Offene Fehler</H1>
<UL>
  <LI>Keine Unterst&uuml;tzung f&uuml;r Nested Tags in Text Spans.<BR>
    Benutzen Sie zum Beispiel: 
    <pre><code>&lt;menuchoice&gt;
	&lt;guimenu&gt;	
		File 
	&lt;/guimenu&gt;
	&lt;guimenuitem&gt;
		New
	&lt;/guimenuitem&gt;
&lt;/menuchoice&gt;</CODE></pre>
    In HTML erschient dies so:<BR>
    <BR>
    Use File -&gt; New 
    <p></P>
</UL>
<UL>
  <LI>Kommentare werden importiert (Der Parser ignoriert sie. Man muss vielleicht 
    ein Kommentar-Tag benutzen).
    <p></P>
  <LI>Nested Listen werden in OpenOffice.org in drei einzelne Listen aufgeteilt 
    und m&uuml;ssen auch als drei einzelne Listen exportiert werden.
    <p></P>
  <LI>Vorlagen werden im Import-Stylesheet definiert.
    <p></P>
  <LI>Import in ein vorhandenes Stylesheet w&auml;re sch&ouml;n.
    <p></P>
</UL>

      
    </div>
    <!--#include virtual="/footer.html" -->
  </body>
</html>
